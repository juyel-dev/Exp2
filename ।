Profile Hamburger Menu & Settings - Complete Technical Discussion

🎯 Overview & Purpose

The Hamburger Menu serves as the central control panel for user account management, settings, and administrative access. It's the nerve center where users manage their entire BudgetBuzz experience.

---

📱 Hamburger Menu Design

Location & Trigger

· Position: Top-right corner of Profile page
· Icon: ☰ (Hamburger) or ⚙️ (Gear)
· Behavior: Click to open dropdown menu

Menu Structure

```
☰ Hamburger Menu
├── ⚙️ Settings
├── 📊 Analytics
├── 👑 Admin Access
├── 🔒 Privacy Policy  
├── 📄 Terms of Service
├── 📚 Documentation
├── 🎨 Theme
├── 🔔 Notifications
└── 🚪 Logout
```

---

🔧 Technical Implementation

1. Hamburger Menu Component

```jsx
// components/ProfileMenu.jsx
import React, { useState, useRef, useEffect } from 'react';
import { useAuth } from '../context/AuthContext';
import { useNavigate } from 'react-router-dom';
import { 
  Settings, 
  BarChart3, 
  Shield, 
  FileText, 
  BookOpen, 
  Moon,
  Bell,
  LogOut,
  User,
  HelpCircle,
  CreditCard
} from 'lucide-react';
import AdminAccess from './AdminAccess';
import './ProfileMenu.css';

const ProfileMenu = () => {
  const { userData, logout } = useAuth();
  const navigate = useNavigate();
  const [isOpen, setIsOpen] = useState(false);
  const [showAdminModal, setShowAdminModal] = useState(false);
  const [activeSubMenu, setActiveSubMenu] = useState(null);
  const menuRef = useRef(null);

  // Close menu when clicking outside
  useEffect(() => {
    const handleClickOutside = (event) => {
      if (menuRef.current && !menuRef.current.contains(event.target)) {
        setIsOpen(false);
        setActiveSubMenu(null);
      }
    };

    document.addEventListener('mousedown', handleClickOutside);
    return () => document.removeEventListener('mousedown', handleClickOutside);
  }, []);

  const handleLogout = async () => {
    try {
      await logout();
      setIsOpen(false);
      navigate('/');
    } catch (error) {
      console.error('Logout error:', error);
    }
  };

  const handleAdminAccess = () => {
    setShowAdminModal(true);
    setIsOpen(false);
  };

  const menuItems = [
    {
      id: 'profile',
      label: 'My Profile',
      icon: <User size={18} />,
      action: () => navigate('/profile'),
      show: true
    },
    {
      id: 'settings',
      label: 'Settings',
      icon: <Settings size={18} />,
      action: () => setActiveSubMenu('settings'),
      show: true
    },
    {
      id: 'analytics',
      label: 'Analytics',
      icon: <BarChart3 size={18} />,
      action: () => navigate('/analytics'),
      show: true
    },
    {
      id: 'admin',
      label: 'Admin Access',
      icon: <Shield size={18} />,
      action: handleAdminAccess,
      show: true // Always show, but functionality depends on role
    },
    {
      id: 'billing',
      label: 'Billing & Earnings',
      icon: <CreditCard size={18} />,
      action: () => navigate('/billing'),
      show: true
    },
    {
      id: 'divider-1',
      type: 'divider',
      show: true
    },
    {
      id: 'privacy',
      label: 'Privacy Policy',
      icon: <FileText size={18} />,
      action: () => window.open('/privacy', '_blank'),
      show: true
    },
    {
      id: 'terms',
      label: 'Terms of Service',
      icon: <FileText size={18} />,
      action: () => window.open('/terms', '_blank'),
      show: true
    },
    {
      id: 'docs',
      label: 'Documentation',
      icon: <BookOpen size={18} />,
      action: () => window.open('/docs', '_blank'),
      show: true
    },
    {
      id: 'help',
      label: 'Help & Support',
      icon: <HelpCircle size={18} />,
      action: () => window.open('/help', '_blank'),
      show: true
    },
    {
      id: 'divider-2',
      type: 'divider',
      show: true
    },
    {
      id: 'logout',
      label: 'Logout',
      icon: <LogOut size={18} />,
      action: handleLogout,
      show: true
    }
  ];

  const settingsSubMenu = [
    {
      id: 'account',
      label: 'Account Settings',
      action: () => navigate('/settings/account')
    },
    {
      id: 'notifications',
      label: 'Notifications',
      action: () => navigate('/settings/notifications')
    },
    {
      id: 'privacy-settings',
      label: 'Privacy & Security',
      action: () => navigate('/settings/privacy')
    },
    {
      id: 'theme',
      label: 'Theme & Appearance',
      action: () => navigate('/settings/theme')
    },
    {
      id: 'back',
      label: '← Back',
      action: () => setActiveSubMenu(null)
    }
  ];

  return (
    <div className="profile-menu-container" ref={menuRef}>
      {/* Hamburger Trigger Button */}
      <button 
        className={`menu-trigger ${isOpen ? 'active' : ''}`}
        onClick={() => setIsOpen(!isOpen)}
        aria-label="Profile menu"
      >
        <div className="hamburger-icon">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </button>

      {/* Main Dropdown Menu */}
      {isOpen && (
        <div className="menu-dropdown">
          {/* User Info Header */}
          <div className="menu-header">
            <img 
              src={userData?.avatar || '/default-avatar.png'} 
              alt="Profile" 
              className="user-avatar"
            />
            <div className="user-info">
              <div className="user-name">{userData?.displayName || 'User'}</div>
              <div className="user-email">{userData?.email}</div>
              <div className="user-role">{userData?.role || 'user'}</div>
            </div>
          </div>

          <div className="menu-items">
            {/* Main Menu Items */}
            {!activeSubMenu && menuItems.map(item => {
              if (item.type === 'divider') {
                return <div key={item.id} className="menu-divider" />;
              }
              
              if (!item.show) return null;

              return (
                <button
                  key={item.id}
                  className={`menu-item ${item.id === 'logout' ? 'logout-item' : ''}`}
                  onClick={item.action}
                >
                  <span className="menu-icon">{item.icon}</span>
                  <span className="menu-label">{item.label}</span>
                  {item.id === 'admin' && userData?.role === 'admin' && (
                    <span className="admin-badge">Active</span>
                  )}
                </button>
              );
            })}

            {/* Settings Submenu */}
            {activeSubMenu === 'settings' && (
              <div className="submenu">
                <div className="submenu-header">
                  <button 
                    className="back-button"
                    onClick={() => setActiveSubMenu(null)}
                  >
                    ← Back
                  </button>
                  <span className="submenu-title">Settings</span>
                </div>
                
                {settingsSubMenu.map(item => (
                  <button
                    key={item.id}
                    className={`menu-item ${item.id === 'back' ? 'back-item' : ''}`}
                    onClick={item.action}
                  >
                    <span className="menu-label">{item.label}</span>
                  </button>
                ))}
              </div>
            )}
          </div>

          {/* App Version */}
          <div className="menu-footer">
            <div className="app-version">BudgetBuzz v1.0.0</div>
          </div>
        </div>
      )}

      {/* Admin Access Modal */}
      {showAdminModal && (
        <AdminAccess onClose={() => setShowAdminModal(false)} />
      )}
    </div>
  );
};

export default ProfileMenu;
```

2. Profile Menu CSS

```css
/* components/ProfileMenu.css */
.profile-menu-container {
  position: relative;
  display: inline-block;
}

/* Hamburger Trigger */
.menu-trigger {
  background: none;
  border: none;
  padding: 8px;
  border-radius: 8px;
  cursor: pointer;
  transition: background-color 0.2s;
}

.menu-trigger:hover {
  background: #f3f4f6;
}

.menu-trigger.active {
  background: #e5e7eb;
}

.hamburger-icon {
  display: flex;
  flex-direction: column;
  gap: 3px;
  width: 20px;
}

.hamburger-icon span {
  height: 2px;
  background: #374151;
  border-radius: 1px;
  transition: all 0.3s;
}

.menu-trigger.active .hamburger-icon span:nth-child(1) {
  transform: rotate(45deg) translate(6px, 6px);
}

.menu-trigger.active .hamburger-icon span:nth-child(2) {
  opacity: 0;
}

.menu-trigger.active .hamburger-icon span:nth-child(3) {
  transform: rotate(-45deg) translate(6px, -6px);
}

/* Dropdown Menu */
.menu-dropdown {
  position: absolute;
  top: 100%;
  right: 0;
  background: white;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  box-shadow: 0 10px 25px -3px rgb(0 0 0 / 0.1);
  min-width: 280px;
  z-index: 1000;
  margin-top: 8px;
  animation: slideDown 0.2s ease-out;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Menu Header */
.menu-header {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 16px;
  border-bottom: 1px solid #f3f4f6;
  background: #fafafa;
}

.user-avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  object-fit: cover;
}

.user-info {
  flex: 1;
}

.user-name {
  font-weight: 600;
  color: #111827;
  font-size: 0.9rem;
}

.user-email {
  color: #6b7280;
  font-size: 0.8rem;
  margin-top: 2px;
}

.user-role {
  color: #2563eb;
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: uppercase;
  margin-top: 2px;
}

/* Menu Items */
.menu-items {
  padding: 8px 0;
  max-height: 400px;
  overflow-y: auto;
}

.menu-item {
  display: flex;
  align-items: center;
  gap: 12px;
  width: 100%;
  padding: 12px 16px;
  border: none;
  background: none;
  cursor: pointer;
  font-size: 0.875rem;
  color: #374151;
  transition: background-color 0.2s;
  text-align: left;
}

.menu-item:hover {
  background: #f3f4f6;
}

.menu-item.logout-item {
  color: #dc2626;
}

.menu-item.logout-item:hover {
  background: #fef2f2;
}

.menu-icon {
  display: flex;
  align-items: center;
  color: #6b7280;
}

.menu-label {
  flex: 1;
}

.admin-badge {
  background: #10b981;
  color: white;
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 0.7rem;
  font-weight: 600;
}

.menu-divider {
  height: 1px;
  background: #f3f4f6;
  margin: 8px 0;
}

/* Submenu */
.submenu {
  animation: slideIn 0.2s ease-out;
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateX(-10px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.submenu-header {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 12px 16px;
  border-bottom: 1px solid #f3f4f6;
  background: #fafafa;
}

.back-button {
  background: none;
  border: none;
  color: #2563eb;
  cursor: pointer;
  font-size: 0.875rem;
  padding: 4px;
}

.submenu-title {
  font-weight: 600;
  color: #374151;
}

.back-item {
  color: #2563eb;
  font-weight: 600;
}

/* Menu Footer */
.menu-footer {
  padding: 12px 16px;
  border-top: 1px solid #f3f4f6;
  background: #fafafa;
  border-radius: 0 0 12px 12px;
}

.app-version {
  color: #9ca3af;
  font-size: 0.75rem;
  text-align: center;
}

/* Responsive Design */
@media (max-width: 480px) {
  .menu-dropdown {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    margin: 0;
    border-radius: 0;
    min-width: auto;
  }

  .menu-items {
    max-height: none;
    flex: 1;
  }
}
```

---
⚙️ Settings System Architecture

Settings Page Structure

```
Settings Dashboard
├── Account Settings
│   ├── Profile Information
│   ├── Change Password
│   ├── Email Preferences
│   └── Account Deletion
├── Notification Settings
│   ├── Push Notifications
│   ├── Email Notifications
│   ├── SMS Alerts
│   └── Frequency Settings
├── Privacy & Security
│   ├── Data Privacy
│   ├── Two-Factor Auth
│   ├── Connected Apps
│   └── Download Data
├── Theme & Appearance
│   ├── Dark/Light Mode
│   ├── Font Size
│   ├── Color Scheme
│   └── Layout Preferences
└── Billing & Earnings
    ├── Payment Methods
    ├── Earnings Dashboard
    ├── Tax Information
    └── Payout Settings
```

3. Settings Dashboard Component

```jsx
// pages/Settings.jsx
import React, { useState, useEffect } from 'react';
import { useAuth } from '../context/AuthContext';
import { doc, updateDoc, getDoc } from 'firebase/firestore';
import { db } from '../firebase/config';
import { 
  User, 
  Bell, 
  Shield, 
  Palette, 
  CreditCard,
  Save,
  ArrowLeft
} from 'lucide-react';
import { useNavigate } from 'react-router-dom';
import './Settings.css';

const Settings = () => {
  const { userData } = useAuth();
  const navigate = useNavigate();
  const [activeSection, setActiveSection] = useState('account');
  const [settings, setSettings] = useState({});
  const [loading, setLoading] = useState(false);
  const [saved, setSaved] = useState(false);

  useEffect(() => {
    loadUserSettings();
  }, [userData]);

  const loadUserSettings = async () => {
    if (!userData) return;
    
    try {
      const userDoc = await getDoc(doc(db, 'users', userData.uid));
      if (userDoc.exists()) {
        setSettings(userDoc.data().settings || getDefaultSettings());
      }
    } catch (error) {
      console.error('Error loading settings:', error);
      setSettings(getDefaultSettings());
    }
  };

  const getDefaultSettings = () => ({
    account: {
      emailNotifications: true,
      newsletter: true,
      profileVisibility: 'public'
    },
    notifications: {
      pushEnabled: true,
      emailEnabled: true,
      dealAlerts: true,
      earningsUpdates: true,
      communityMentions: true
    },
    privacy: {
      dataSharing: false,
      searchVisibility: true,
      twoFactorAuth: false,
      showEarnings: false
    },
    appearance: {
      theme: 'light',
      fontSize: 'medium',
      compactMode: false
    },
    billing: {
      currency: 'BDT',
      taxInfo: {},
      payoutMethod: 'bkash'
    }
  });

  const saveSettings = async () => {
    if (!userData) return;
    
    setLoading(true);
    try {
      await updateDoc(doc(db, 'users', userData.uid), {
        settings: settings,
        updatedAt: new Date()
      });
      
      setSaved(true);
      setTimeout(() => setSaved(false), 3000);
    } catch (error) {
      console.error('Error saving settings:', error);
      alert('Error saving settings');
    } finally {
      setLoading(false);
    }
  };

  const updateSetting = (category, key, value) => {
    setSettings(prev => ({
      ...prev,
      [category]: {
        ...prev[category],
        [key]: value
      }
    }));
  };

  const settingsSections = [
    {
      id: 'account',
      label: 'Account Settings',
      icon: <User size={20} />,
      component: <AccountSettings 
        settings={settings.account} 
        onChange={(key, value) => updateSetting('account', key, value)} 
      />
    },
    {
      id: 'notifications',
      label: 'Notifications',
      icon: <Bell size={20} />,
      component: <NotificationSettings 
        settings={settings.notifications} 
        onChange={(key, value) => updateSetting('notifications', key, value)} 
      />
    },
    {
      id: 'privacy',
      label: 'Privacy & Security',
      icon: <Shield size={20} />,
      component: <PrivacySettings 
        settings={settings.privacy} 
        onChange={(key, value) => updateSetting('privacy', key, value)} 
      />
    },
    {
      id: 'appearance',
      label: 'Theme & Appearance',
      icon: <Palette size={20} />,
      component: <AppearanceSettings 
        settings={settings.appearance} 
        onChange={(key, value) => updateSetting('appearance', key, value)} 
      />
    },
    {
      id: 'billing',
      label: 'Billing & Earnings',
      icon: <CreditCard size={20} />,
      component: <BillingSettings 
        settings={settings.billing} 
        onChange={(key, value) => updateSetting('billing', key, value)} 
      />
    }
  ];

  return (
    <div className="settings-page">
      {/* Header */}
      <div className="settings-header">
        <button 
          className="back-button"
          onClick={() => navigate('/profile')}
        >
          <ArrowLeft size={20} />
        </button>
        <h1>Settings</h1>
        <button 
          className={`save-button ${saved ? 'saved' : ''}`}
          onClick={saveSettings}
          disabled={loading}
        >
          {loading ? 'Saving...' : saved ? 'Saved!' : 'Save'}
          <Save size={16} />
        </button>
      </div>

      <div className="settings-layout">
        {/* Sidebar Navigation */}
        <div className="settings-sidebar">
          {settingsSections.map(section => (
            <button
              key={section.id}
              className={`sidebar-item ${activeSection === section.id ? 'active' : ''}`}
              onClick={() => setActiveSection(section.id)}
            >
              <span className="sidebar-icon">{section.icon}</span>
              <span className="sidebar-label">{section.label}</span>
            </button>
          ))}
        </div>

        {/* Main Content */}
        <div className="settings-content">
          {settingsSections.find(section => section.id === activeSection)?.component}
        </div>
      </div>
    </div>
  );
};

// Sub-components for each settings section
const AccountSettings = ({ settings, onChange }) => {
  return (
    <div className="settings-section">
      <h2>Account Settings</h2>
      
      <div className="setting-group">
        <h3>Communication Preferences</h3>
        
        <div className="setting-item">
          <div className="setting-info">
            <label className="setting-label">Email Notifications</label>
            <p className="setting-description">
              Receive important updates and account notifications via email
            </p>
          </div>
          <label className="toggle-switch">
            <input
              type="checkbox"
              checked={settings?.emailNotifications || false}
              onChange={(e) => onChange('emailNotifications', e.target.checked)}
            />
            <span className="slider"></span>
          </label>
        </div>

        <div className="setting-item">
          <div className="setting-info">
            <label className="setting-label">Newsletter</label>
            <p className="setting-description">
              Get weekly updates about new features and best deals
            </p>
          </div>
          <label className="toggle-switch">
            <input
              type="checkbox"
              checked={settings?.newsletter || false}
              onChange={(e) => onChange('newsletter', e.target.checked)}
            />
            <span className="slider"></span>
          </label>
        </div>

        <div className="setting-item">
          <div className="setting-info">
            <label className="setting-label">Profile Visibility</label>
            <p className="setting-description">
              Control who can see your profile and activity
            </p>
          </div>
          <select
            value={settings?.profileVisibility || 'public'}
            onChange={(e) => onChange('profileVisibility', e.target.value)}
            className="setting-select"
          >
            <option value="public">Public</option>
            <option value="community">Community Only</option>
            <option value="private">Private</option>
          </select>
        </div>
      </div>

      <div className="setting-group">
        <h3>Danger Zone</h3>
        <div className="danger-zone">
          <button className="danger-button delete-account">
            Delete Account
          </button>
          <p className="danger-description">
            Permanently delete your account and all associated data. This action cannot be undone.
          </p>
        </div>
      </div>
    </div>
  );
};

const NotificationSettings = ({ settings, onChange }) => {
  return (
    <div className="settings-section">
      <h2>Notification Settings</h2>
      
      <div className="setting-group">
        <h3>Notification Channels</h3>
        
        <div className="setting-item">
          <div className="setting-info">
            <label className="setting-label">Push Notifications</label>
            <p className="setting-description">
              Receive notifications in your browser
            </p>
          </div>
          <label className="toggle-switch">
            <input
              type="checkbox"
              checked={settings?.pushEnabled || false}
              onChange={(e) => onChange('pushEnabled', e.target.checked)}
            />
            <span className="slider"></span>
          </label>
        </div>

        <div className="setting-item">
          <div className="setting-info">
            <label className="setting-label">Email Notifications</label>
            <p className="setting-description">
              Receive notifications via email
            </p>
          </div>
          <label className="toggle-switch">
            <input
              type="checkbox"
              checked={settings?.emailEnabled || false}
              onChange={(e) => onChange('emailEnabled', e.target.checked)}
            />
            <span className="slider"></span>
          </label>
        </div>
      </div>

      <div className="setting-group">
        <h3>Notification Types</h3>
        
        <div className="setting-item">
          <div className="setting-info">
            <label className="setting-label">Deal Alerts</label>
            <p className="setting-description">
              Get notified about new deals in your interested categories
            </p>
          </div>
          <label className="toggle-switch">
            <input
              type="checkbox"
              checked={settings?.dealAlerts || false}
              onChange={(e) => onChange('dealAlerts', e.target.checked)}
            />
            <span className="slider"></span>
          </label>
        </div>

        <div className="setting-item">
          <div className="setting-info">
            <label className="setting-label">Earnings Updates</label>
            <p className="setting-description">
              Notifications about your earnings and payout status
            </p>
          </div>
          <label className="toggle-switch">
            <input
              type="checkbox"
              checked={settings?.earningsUpdates || false}
              onChange={(e) => onChange('earningsUpdates', e.target.checked)}
            />
            <span className="slider"></span>
          </label>
        </div>

        <div className="setting-item">
          <div className="setting-info">
            <label className="setting-label">Community Mentions</label>
            <p className="setting-description">
              Get notified when other users mention or interact with your posts
            </p>
          </div>
          <label className="toggle-switch">
            <input
              type="checkbox"
              checked={settings?.communityMentions || false}
              onChange={(e) => onChange('communityMentions', e.target.checked)}
            />
            <span className="slider"></span>
          </label>
        </div>
      </div>
    </div>
  );
};
const PrivacySettings = ({ settings, onChange }) => {
  return (
    <div className="settings-section">
      <h2>Privacy & Security</h2>
      
      <div className="setting-group">
        <h3>Data Privacy</h3>
        
        <div className="setting-item">
          <div className="setting-info">
            <label className="setting-label">Data Sharing</label>
            <p className="setting-description">
              Allow anonymous data sharing to help improve the platform
            </p>
          </div>
          <label className="toggle-switch">
            <input
              type="checkbox"
              checked={settings?.dataSharing || false}
              onChange={(e) => onChange('dataSharing', e.target.checked)}
            />
            <span className="slider"></span>
          </label>
        </div>

        <div className="setting-item">
          <div className="setting-info">
            <label className="setting-label">Search Visibility</label>
            <p className="setting-description">
              Allow your profile to appear in search results
            </p>
          </div>
          <label className="toggle-switch">
            <input
              type="checkbox"
              checked={settings?.searchVisibility || false}
              onChange={(e) => onChange('searchVisibility', e.target.checked)}
            />
            <span className="slider"></span>
          </label>
        </div>

        <div className="setting-item">
          <div className="setting-info">
            <label className="setting-label">Show Earnings Publicly</label>
            <p className="setting-description">
              Display your earnings on your public profile
            </p>
          </div>
          <label className="toggle-switch">
            <input
              type="checkbox"
              checked={settings?.showEarnings || false}
              onChange={(e) => onChange('showEarnings', e.target.checked)}
            />
            <span className="slider"></span>
          </label>
        </div>
      </div>

      <div className="setting-group">
        <h3>Security</h3>
        
        <div className="setting-item">
          <div className="setting-info">
            <label className="setting-label">Two-Factor Authentication</label>
            <p className="setting-description">
              Add an extra layer of security to your account
            </p>
          </div>
          <label className="toggle-switch">
            <input
              type="checkbox"
              checked={settings?.twoFactorAuth || false}
              onChange={(e) => onChange('twoFactorAuth', e.target.checked)}
            />
            <span className="slider"></span>
          </label>
        </div>

        <button className="security-button change-password">
          Change Password
        </button>

        <button className="security-button connected-apps">
          Manage Connected Apps
        </button>

        <button className="security-button download-data">
          Download My Data
        </button>
      </div>
    </div>
  );
};

const AppearanceSettings = ({ settings, onChange }) => {
  const applyTheme = (theme) => {
    document.documentElement.setAttribute('data-theme', theme);
    onChange('theme', theme);
  };

  return (
    <div className="settings-section">
      <h2>Theme & Appearance</h2>
      
      <div className="setting-group">
        <h3>Theme Preferences</h3>
        
        <div className="theme-options">
          <button
            className={`theme-option ${settings?.theme === 'light' ? 'active' : ''}`}
            onClick={() => applyTheme('light')}
          >
            <div className="theme-preview light-theme"></div>
            <span>Light</span>
          </button>

          <button
            className={`theme-option ${settings?.theme === 'dark' ? 'active' : ''}`}
            onClick={() => applyTheme('dark')}
          >
            <div className="theme-preview dark-theme"></div>
            <span>Dark</span>
          </button>

          <button
            className={`theme-option ${settings?.theme === 'auto' ? 'active' : ''}`}
            onClick={() => applyTheme('auto')}
          >
            <div className="theme-preview auto-theme"></div>
            <span>Auto</span>
          </button>
        </div>
      </div>

      <div className="setting-group">
        <h3>Display Settings</h3>
        
        <div className="setting-item">
          <div className="setting-info">
            <label className="setting-label">Font Size</label>
            <p className="setting-description">
              Adjust the text size across the application
            </p>
          </div>
          <select
            value={settings?.fontSize || 'medium'}
            onChange={(e) => onChange('fontSize', e.target.value)}
            className="setting-select"
          >
            <option value="small">Small</option>
            <option value="medium">Medium</option>
            <option value="large">Large</option>
          </select>
        </div>

        <div className="setting-item">
          <div className="setting-info">
            <label className="setting-label">Compact Mode</label>
            <p className="setting-description">
              Show more content in less space
            </p>
          </div>
          <label className="toggle-switch">
            <input
              type="checkbox"
              checked={settings?.compactMode || false}
              onChange={(e) => onChange('compactMode', e.target.checked)}
            />
            <span className="slider"></span>
          </label>
        </div>
      </div>
    </div>
  );
};

const BillingSettings = ({ settings, onChange }) => {
  return (
    <div className="settings-section">
      <h2>Billing & Earnings</h2>
      
      <div className="setting-group">
        <h3>Payment Preferences</h3>
        
        <div className="setting-item">
          <div className="setting-info">
            <label className="setting-label">Preferred Currency</label>
            <p className="setting-description">
              Currency for displaying prices and earnings
            </p>
          </div>
          <select
            value={settings?.currency || 'BDT'}
            onChange={(e) => onChange('currency', e.target.value)}
            className="setting-select"
          >
            <option value="BDT">Bangladeshi Taka (৳)</option>
            <option value="INR">Indian Rupee (₹)</option>
            <option value="PKR">Pakistani Rupee (₨)</option>
            <option value="USD">US Dollar ($)</option>
          </select>
        </div>

        <div className="setting-item">
          <div className="setting-info">
            <label className="setting-label">Payout Method</label>
            <p className="setting-description">
              How you want to receive your earnings
            </p>
          </div>
          <select
            value={settings?.payoutMethod || 'bkash'}
            onChange={(e) => onChange('payoutMethod', e.target.value)}
            className="setting-select"
          >
            <option value="bkash">bKash</option>
            <option value="bank">Bank Transfer</option>
            <option value="paypal">PayPal</option>
            <option value="crypto">Cryptocurrency</option>
          </select>
        </div>
      </div>

      <div className="setting-group">
        <h3>Tax Information</h3>
        <div className="tax-section">
          <p>Add your tax information for earnings reporting</p>
          <button className="tax-button">
            Update Tax Information
          </button>
        </div>
      </div>

      <div className="setting-group">
        <h3>Billing History</h3>
        <div className="billing-history">
          <p>View and download your billing history and receipts</p>
          <button className="history-button">
            View Billing History
          </button>
        </div>
      </div>
    </div>
  );
};

export default Settings;
```
4. Settings CSS

```css
/* pages/Settings.css */
.settings-page {
  padding: 16px;
  max-width: 1200px;
  margin: 0 auto;
}

.settings-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 24px;
  padding-bottom: 16px;
  border-bottom: 1px solid #e5e7eb;
}

.settings-header h1 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #111827;
  margin: 0;
}

.back-button {
  background: none;
  border: none;
  padding: 8px;
  border-radius: 8px;
  cursor: pointer;
  color: #6b7280;
  transition: all 0.2s;
}

.back-button:hover {
  background: #f3f4f6;
  color: #374151;
}

.save-button {
  display: flex;
  align-items: center;
  gap: 8px;
  background: #2563eb;
  color: white;
  border: none;
  padding: 8px 16px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
  transition: all 0.2s;
}

.save-button:hover:not(:disabled) {
  background: #1d4ed8;
}

.save-button:disabled {
  background: #9ca3af;
  cursor: not-allowed;
}

.save-button.saved {
  background: #10b981;
}

.settings-layout {
  display: grid;
  grid-template-columns: 250px 1fr;
  gap: 24px;
  min-height: 600px;
}

/* Sidebar */
.settings-sidebar {
  background: white;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  padding: 8px;
  height: fit-content;
  position: sticky;
  top: 20px;
}

.sidebar-item {
  display: flex;
  align-items: center;
  gap: 12px;
  width: 100%;
  padding: 12px;
  border: none;
  background: none;
  cursor: pointer;
  border-radius: 8px;
  transition: all 0.2s;
  color: #6b7280;
}

.sidebar-item:hover {
  background: #f3f4f6;
  color: #374151;
}

.sidebar-item.active {
  background: #2563eb;
  color: white;
}

.sidebar-icon {
  display: flex;
  align-items: center;
}

.sidebar-label {
  font-weight: 500;
  font-size: 0.875rem;
}

/* Settings Content */
.settings-content {
  background: white;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  padding: 24px;
}

.settings-section h2 {
  margin: 0 0 24px 0;
  font-size: 1.25rem;
  font-weight: 700;
  color: #111827;
}

.setting-group {
  margin-bottom: 32px;
}

.setting-group h3 {
  margin: 0 0 16px 0;
  font-size: 1rem;
  font-weight: 600;
  color: #374151;
  padding-bottom: 8px;
  border-bottom: 1px solid #f3f4f6;
}

.setting-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 0;
  border-bottom: 1px solid #f9fafb;
}

.setting-item:last-child {
  border-bottom: none;
}

.setting-info {
  flex: 1;
  margin-right: 16px;
}

.setting-label {
  display: block;
  font-weight: 500;
  color: #374151;
  margin-bottom: 4px;
}

.setting-description {
  font-size: 0.875rem;
  color: #6b7280;
  margin: 0;
  line-height: 1.4;
}

/* Toggle 



Switch */
.toggle-switch {
  position: relative;
  display: inline-block;
  width: 44px;
  height: 24px;
}

.toggle-switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #d1d5db;
  transition: .4s;
  border-radius: 24px;
}

.slider:before {
  position: absolute;
  content: "";
  height: 18px;
  width: 18px;
  left: 3px;
  bottom: 3px;
  background-color: white;
  transition: .4s;
  border-radius: 50%;
}

input:checked + .slider {
  background-color: #2563eb;
}

input:checked + .slider:before {
  transform: translateX(20px);
}

/* Select Input */
.setting-select {
  padding: 8px 12px;
  border: 1px solid #d1d5db;
  border-radius: 6px;
  background: white;
  color: #374151;
  font-size: 0.875rem;
  min-width: 140px;
}

.setting-select:focus {
  outline: none;
  border-color: #2563eb;
  box-shadow: 0 0 0 3px rgb(37 99 235 / 0.1);
}

/* Theme Options */
.theme-options {
  display: flex;
  gap: 12px;
  margin-top: 12px;
}

.theme-option {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  padding: 12px;
  border: 2px solid #e5e7eb;
  border-radius: 8px;
  background: none;
  cursor: pointer;
  transition: all 0.2s;
  min-width: 80px;
}

.theme-option:hover {
  border-color: #9ca3af;
}

.theme-option.active {
  border-color: #2563eb;
  background: #eff6ff;
}

.theme-preview {
  width: 40px;
  height: 40px;
  border-radius: 8px;
  border: 2px solid #e5e7eb;
}

.light-theme {
  background: linear-gradient(135deg, #ffffff 50%, #f3f4f6 50%);
}

.dark-theme {
  background: linear-gradient(135deg, #1f2937 50%, #374151 50%);
}

.auto-theme {
  background: linear-gradient(135deg, #ffffff 50%, #1f2937 50%);
}

/* Danger Zone */
.danger-zone {
  background: #fef2f2;
  border: 1px solid #fecaca;
  border-radius: 8px;
  padding: 16px;
}

.danger-button {
  background: #dc2626;
  color: white;
  border: none;
  padding: 8px 16px;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 500;
  transition: background 0.2s;
}

.danger-button:hover {
  background: #b91c1c;
}

.danger-description {
  font-size: 0.875rem;
  color: #b91c1c;
  margin: 8px 0 0 0;
}

/* Security Buttons */
.security-button {
  display: block;
  width: 100%;
  text-align: left;
  background: none;
  border: 1px solid #d1d5db;
  padding: 12px 16px;
  border-radius: 6px;
  cursor: pointer;
  margin-bottom: 8px;
  transition: all 0.2s;
  color: #374151;
}

.security-button:hover {
  background: #f9fafb;
  border-color: #9ca3af;
}

/* Tax and Billing Sections */
.tax-section,
.billing-history {
  background: #f9fafb;
  border: 1px solid #e5e7eb;
  border-radius: 8px;
  padding: 16px;
}

.tax-button,
.history-button {
  background: #2563eb;
  color: white;
  border: none;
  padding: 8px 16px;
  border-radius: 6px;
  cursor: pointer;
  margin-top: 8px;
  font-weight: 500;
}

.tax-button:hover,
.history-button:hover {
  background: #1d4ed8;
}

/* Responsive Design */
@media (max-width: 768px) {
  .settings-layout {
    grid-template-columns: 1fr;
  }

  .settings-sidebar {
    position: static;
    margin-bottom: 16px;
  }

  .theme-options {
    flex-direction: column;
    align-items: stretch;
  }

  .theme-option {
    flex-direction: row;
    justify-content: flex-start;
    min-width: auto;
  }
}

@media (max-width: 480px) {
  .settings-page {
    padding: 8px;
  }

  .settings-content {
    padding: 16px;
  }

  .setting-item {
    flex-direction: column;
    align-items: flex-start;
    gap: 12px;
  }

  .setting-info {
    margin-right: 0;
  }
}
```

---


🔐 Admin Access Modal

5. Enhanced Admin Access Component

```jsx
// components/AdminAccess.jsx
import React, { useState } from 'react';
import { useAuth } from '../context/AuthContext';
import { signInWithEmailAndPassword } from 'firebase/auth';
import { doc, getDoc, setDoc } from 'firebase/firestore';
import { auth, db } from '../firebase/config';
import { X, Shield, Key, Mail, Lock, AlertCircle } from 'lucide-react';
import './AdminAccess.css';

const AdminAccess = ({ onClose }) => {
  const { currentUser } = useAuth();
  const [credentials, setCredentials] = useState({
    email: '',
    password: ''
  });
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState('');
  const [step, setStep] = useState('login'); // login → verification → success

  const handleAdminLogin = async (e) => {
    e.preventDefault();
    setLoading(true);
    setError('');

    try {
      // 1. Sign in with email/password
      const userCredential = await signInWithEmailAndPassword(
        auth, 
        credentials.email, 
        credentials.password
      );

      // 2. Check if user exists in admins collection
      const adminDoc = await getDoc(doc(db, 'admins', credentials.email));
      
      if (adminDoc.exists()) {
        // 3. Update user role to admin
        await setDoc(doc(db, 'users', userCredential.user.uid), {
          role: 'admin',
          adminSince: new Date(),
          adminLevel: adminDoc.data().level || 'admin'
        }, { merge: true });

        setStep('success');
        
        // Auto-redirect after 2 seconds
        setTimeout(() => {
          window.location.href = '/admin';
        }, 2000);
      } else {
        setError('❌ Not authorized as admin. Contact system administrator.');
      }
    } catch (error) {
      console.error('Admin login error:', error);
      
      if (error.code === 'auth/invalid-credential') {
        setError('Invalid email or password');
      } else if (error.code === 'auth/too-many-requests') {
        setError('Too many failed attempts. Please try again later.');
      } else {
        setError('Login failed: ' + error.message);
      }
    } finally {
      setLoading(false);
    }
  };

  const adminFeatures = [
    '✅ Approve/Reject user posts',
    '✅ Manage user accounts and content',
    '✅ Customize homepage layout and banners',
    '✅ View detailed analytics and reports',
    '✅ Configure platform settings',
    '✅ Access revenue and earnings data'
  ];

  return (
    <div className="admin-modal-overlay">
      <div className="admin-modal">
        {/* Header */}
        <div className="modal-header">
          <div className="modal-title">
            <Shield size={24} className="admin-icon" />
            <div>
              <h2>Admin Access</h2>
              <p>Enter admin credentials to access control panel</p>
            </div>
          </div>
          <button className="close-btn" onClick={onClose}>
            <X size={20} />
          </button>
        </div>

        <div className="modal-body">
          {/* Login Step */}
          {step === 'login' && (
            <>
              <form onSubmit={handleAdminLogin} className="admin-form">
                <div className="form-group">
                  <label>Admin Email</label>
                  <div className="input-with-icon">
                    <Mail size={18} />
                    <input
                      type="email"
                      value={credentials.email}
                      onChange={(e) => setCredentials({...credentials, email: e.target.value})}
                      placeholder="admin@budgetbuzz.in"
                      required
                      autoComplete="email"
                    />
                  </div>
                </div>

                <div className="form-group">
                  <label>Password</label>
                  <div className="input-with-icon">
                    <Lock size={18} />
                    <input
                      type="password"
                      value={credentials.password}
                      onChange={(e) => setCredentials({...credentials, password: e.target.value})}
                      placeholder="Enter admin password"
                      required
                      autoComplete="current-password"
                    />
                  </div>
                </div>

                {error && (
                  <div className="error-message">
                    <AlertCircle size={16} />
                    {error}
                  </div>
                )}

                <button 
                  type="submit" 
                  className="admin-login-btn"
                  disabled={loading || !credentials.email || !credentials.password}
                >
                  {loading ? (
                    <>
                      <div className="spinner"></div>
                      Verifying...
                    </>
                  ) : (
                    <>
                      <Key size={16} />
                      Get Admin Access
                    </>
                  )}
                </button>
              </form>

              <div className="admin-features">
                <h4>Admin Privileges Include:</h4>
                <ul>
                  {adminFeatures.map((feature, index) => (
                    <li key={index}>{feature}</li>
                  ))}
                </ul>
              </div>

              <div className="security-notice">
                <Shield size={16} />
                <span>This action is logged for security purposes</span>
              </div>
            </>
          )}

          {/* Success Step */}
          {step === 'success' && (
            <div className="success-step">
              <div className="success-icon">🎉</div>
              <h3>Admin Access Granted!</h3>
              <p>You now have full administrative control over the platform.</p>
              <div className="success-features">
                <div className="feature-item">
                  <Shield size={20} />
                  <span>Full platform moderation</span>
                </div>
                <div className="feature-item">
                  <Key size={20} />
                  <span>User management capabilities</span>
                </div>
                <div className="feature-item">
                  <span>📊</span>
                  <span>Advanced analytics access</span>
                </div>
              </div>
              <p className="redirect-notice">
                Redirecting to admin panel...
              </p>
            </div>
          )}
        </div>
      </div>
    </div>
  );
};

export default AdminAccess;
```



6. Admin Access CSS

```css
/* components/AdminAccess.css */
.admin-modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10000;
  padding: 20px;
  backdrop-filter: blur(4px);
}

.admin-modal {
  background: white;
  border-radius: 16px;
  width: 100%;
  max-width: 440px;
  max-height: 90vh;
  overflow-y: auto;
  box-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.25);
  animation: modalAppear 0.3s ease-out;
}

@keyframes modalAppear {
  from {
    opacity: 0;
    transform: scale(0.9) translateY(-10px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

.modal-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  padding: 24px 24px 0;
  margin-bottom: 20px;
}

.modal-title {
  display: flex;
  align-items: flex-start;
  gap: 12px;
}

.modal-title h2 {
  margin: 0 0 4px 0;
  color: #111827;
  font-size: 1.25rem;
  font-weight: 700;
}

.modal-title p {
  margin: 0;
  color: #6b7280;
  font-size: 0.875rem;
}

.admin-icon {
  color: #2563eb;
  margin-top: 2px;
}

.close-btn {
  background: #f3f4f6;
  border: none;
  color: #6b7280;
  cursor: pointer;
  padding: 8px;
  border-radius: 8px;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
}

.close-btn:hover {
  background: #e5e7eb;
  color: #374151;
}

.modal-body {
  padding: 0 24px 24px;
}

.admin-form {
  display: flex;
  flex-direction: column;
  gap: 20px;
  margin-bottom: 24px;
}

.form-group {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.form-group label {
  font-weight: 600;
  color: #374151;
  font-size: 0.875rem;
}

.input-with-icon {
  position: relative;
  display: flex;
  align-items: center;
}

.input-with-icon svg {
  position: absolute;
  left: 12px;
  color: #9ca3af;
}

.input-with-icon input {
  width: 100%;
  padding: 12px 12px 12px 40px;
  border: 2px solid #e5e7eb;
  border-radius: 8px;
  font-size: 14px;
  transition: all 0.2s;
  background: white;
}

.input-with-icon input:focus {
  outline: none;
  border-color: #2563eb;
  box-shadow: 0 0 0 3px rgb(37 99 235 / 0.1);
}

.input-with-icon input::placeholder {
  color: #9ca3af;
}

.admin-login-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  background: #2563eb;
  color: white;
  border: none;
  padding: 14px;
  border-radius: 8px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s;
  margin-top: 8px;
}

.admin-login-btn:hover:not(:disabled) {
  background: #1d4ed8;
}

.admin-login-btn:disabled {
  background: #9ca3af;
  cursor: not-allowed;
}

.spinner {
  width: 16px;
  height: 16px;
  border: 2px solid transparent;
  border-top: 2px solid white;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.error-message {
  display: flex;
  align-items: center;
  gap: 8px;
  background: #fef2f2;
  color: #dc2626;
  padding: 12px;
  border-radius: 8px;
  border: 1px solid #fecaca;
  font-size: 0.875rem;
}

.admin-features {
  background: #f8fafc;
  padding: 20px;
  border-radius: 8px;
  border: 1px solid #e5e7eb;
  margin-bottom: 16px;
}

.admin-features h4 {
  margin: 0 0 12px 0;
  color: #374151;
  font-size: 0.875rem;
  font-weight: 600;
}

.admin-features ul {
  margin: 0;
  padding-left: 16px;
  color: #6b7280;
  font-size: 0.875rem;
  line-height: 1.5;
}

.admin-features li {
  margin-bottom: 6px;
}

.security-notice {
  display: flex;
  align-items: center;
  gap: 8px;
  color: #6b7280;
  font-size: 0.75rem;
  padding: 12px;
  background: #f0f9ff;
  border: 1px solid #e0f2fe;
  border-radius: 6px;
}

.security-notice svg {
  color: #0369a1;
}

/* Success Step */
.success-step {
  text-align: center;
  padding: 20px 0;
}

.success-icon {
  font-size: 3rem;
  margin-bottom: 16px;
}

.success-step h3 {
  margin: 0 0 8px 0;
  color: #111827;
  font-size: 1.25rem;
  font-weight: 700;
}

.success-step p {
  color: #6b7280;
  margin: 0 0 24px 0;
  line-height: 1.5;
}

.success-features {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-bottom: 24px;
}

.feature-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px;
  background: #f0f9ff;
  border-radius: 8px;
  color: #0369a1;
  font-weight: 500;
}

.redirect-notice {
  color: #059669;
  font-weight: 500;
  font-size: 0.875rem;
}

/* Responsive */
@media (max-width: 480px) {
  .admin-modal {
    margin: 0;
    border-radius: 0;
    max-height: 100vh;
  }

  .modal-header {
    padding: 20px 20px 0;
  }

  .modal-body {
    padding: 0 20px 20px;
  }
}
```

---

🔐 Security Implementation

Firestore Security Rules

```javascript
// Firestore Rules for Settings
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Users can only read/write their own settings
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
      allow read: if resource.data.settings?.profileVisibility == 'public';
    }
    
    // Admins collection - only readable by admins
    match /admins/{email} {
      allow read, write: if request.auth != null 
                    && get(/databases/$(database)/documents/users/$(request.auth.uid)).data.role == 'admin';
    }
    
    // Admin actions logging
    match /adminLogs/{logId} {
      allow create: if request.auth != null 
                    && get(/databases/$(database)/documents/users/$(request.auth.uid)).data.role == 'admin';
      allow read: if request.auth != null 
                    && get(/databases/$(database)/documents/users/$(request.auth.uid)).data.role == 'admin';
    }
  }
}
```

---

🎯 User Experience Features

1. Progressive Enhancement

· Offline Support: Settings cached locally
· Auto-save: Changes saved automatically
· Validation: Real-time form validation
· Feedback: Visual feedback for all actions

2. Accessibility

· Keyboard Navigation: Full keyboard support
· Screen Readers: Proper ARIA labels
· Color Contrast: WCAG compliant
· Focus Management: Logical tab order

3. Performance

· Lazy Loading: Settings load on demand
· Optimistic Updates: UI updates immediately
· Debounced Saves: Prevent excessive writes
· Cached Data: Settings stored locally

---

🚀 Deployment Notes

Environment Variables

```env
# Admin Configuration
VITE_ADMIN_EMAILS=admin1@budgetbuzz.in,admin2@budgetbuzz.in
VITE_SUPER_ADMIN=super@budgetbuzz.in

# Feature Flags
VITE_ENABLE_ADMIN_PANEL=true
VITE_ENABLE_SETTINGS_EXPORT=true
VITE_ENABLE_THEME_SWITCHER=true
```

This comprehensive hamburger menu and settings system provides users with complete control over their BudgetBuzz experience while maintaining security, performance, and excellent user experience.
